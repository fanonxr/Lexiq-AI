# Docker Compose Override Example
# Copy this file to docker-compose.override.yml and customize for your local development
# docker-compose.override.yml is automatically loaded by Docker Compose and is git-ignored

services:
  postgres:
    # Override environment variables for local development
    environment:
      POSTGRES_USER: myuser
      POSTGRES_PASSWORD: mypassword
      POSTGRES_DB: my_database
    # Uncomment to expose additional ports or mount volumes
    # ports:
    #   - "5433:5432"  # Use different host port
    # volumes:
    #   - ./local-data/postgres:/var/lib/postgresql/data

  redis:
    # Override Redis password (empty by default)
    command: redis-server --appendonly yes --requirepass myredispassword
    # Or disable persistence for faster restarts
    # command: redis-server

  qdrant:
    # Override Qdrant configuration
    environment:
      QDRANT__SERVICE__GRPC_PORT: 6334
      # QDRANT__LOG_LEVEL: DEBUG  # Enable debug logging

  api-core:
    # Azure Blob Storage Configuration
    # Replace with your actual Azure Storage Account credentials
    environment:
      STORAGE_ACCOUNT_NAME: "yourstorageaccountname"
      # Option 1: Use connection string (recommended)
      STORAGE_CONNECTION_STRING: "DefaultEndpointsProtocol=https;AccountName=yourstorageaccountname;AccountKey=yourkey==;EndpointSuffix=core.windows.net"
      # Option 2: Use account key (alternative)
      # STORAGE_ACCOUNT_KEY: "your_account_key_here"
      # STORAGE_USE_MANAGED_IDENTITY: "false"
      # Option 3: Use Managed Identity (for Azure-hosted services)
      # STORAGE_USE_MANAGED_IDENTITY: "true"

  document-ingestion:
    # Azure Blob Storage Configuration
    # Replace with your actual Azure Storage Account credentials
    environment:
      STORAGE_ACCOUNT_NAME: "yourstorageaccountname"
      # Option 1: Use connection string (recommended)
      STORAGE_CONNECTION_STRING: "DefaultEndpointsProtocol=https;AccountName=yourstorageaccountname;AccountKey=yourkey==;EndpointSuffix=core.windows.net"
      # Option 2: Use account key (alternative)
      # STORAGE_ACCOUNT_KEY: "your_account_key_here"
      # STORAGE_USE_MANAGED_IDENTITY: "false"
      # Option 3: Use Managed Identity (for Azure-hosted services)
      # STORAGE_USE_MANAGED_IDENTITY: "true"

